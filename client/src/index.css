/* =========================
   Fonts & Tailwind Imports
========================= */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   Vibrant Green Tech Theme
========================= */
:root {
  --background: 160 20% 10%;
  --foreground: 150 15% 95%;
  --card: 160 25% 13%;
  --card-foreground: 150 15% 95%;
  --popover: 160 25% 13%;
  --popover-foreground: 150 15% 95%;

  --primary: 145 80% 50%;
  --primary-foreground: 0 0% 98%;
  --secondary: 120 65% 45%;
  --secondary-foreground: 0 0% 98%;
  --muted: 160 15% 25%;
  --muted-foreground: 150 15% 65%;
  --accent: 90 90% 55%;
  --accent-foreground: 160 20% 12%;

  --destructive: 0 80% 60%;
  --destructive-foreground: 0 0% 98%;

  --border: 160 20% 25%;
  --input: 160 20% 20%;
  --ring: 145 85% 50%;

  --chart-1: 145 80% 50%;
  --chart-2: 90 80% 55%;
  --chart-3: 180 70% 50%;
  --chart-4: 50 85% 55%;
  --chart-5: 0 80% 60%;

  --sidebar-background: 160 25% 13%;
  --sidebar-foreground: 150 15% 95%;
  --sidebar-primary: 145 85% 50%;
  --sidebar-primary-foreground: 0 0% 98%;
  --sidebar-accent: 160 20% 25%;
  --sidebar-accent-foreground: 145 85% 50%;
  --sidebar-border: 160 20% 25%;
  --sidebar-ring: 145 85% 50%;

  --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
  --radius: 0.75rem;
}


/* Drone animation styles */
.drone-icon {
  background: transparent !important;
  border: none !important;
}

.drone-marker {
  position: relative;
  width: 30px;
  height: 30px;
}

.drone-body {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 12px;
  height: 12px;
  background: #22c55e;
  border-radius: 2px;
  transform: translate(-50%, -50%);
  box-shadow: 0 0 10px rgba(34, 197, 94, 0.5);
}

.drone-propeller {
  position: absolute;
  width: 8px;
  height: 8px;
  background: #16a34a;
  border-radius: 50%;
  animation: spin 0.1s linear infinite;
}

.drone-propeller-1 {
  top: 2px;
  left: 2px;
}

.drone-propeller-2 {
  top: 2px;
  right: 2px;
}

.drone-propeller-3 {
  bottom: 2px;
  left: 2px;
}

.drone-propeller-4 {
  bottom: 2px;
  right: 2px;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Dark mode variant (brighter greens & glow) */
.dark {
  --background: 160 25% 8%;
  --foreground: 150 15% 95%;
  --card: 160 30% 12%;
  --card-foreground: 150 15% 95%;
  --popover: 160 30% 12%;
  --popover-foreground: 150 15% 95%;

  --primary: 145 90% 55%;
  --primary-foreground: 160 15% 10%;
  --secondary: 120 70% 50%;
  --secondary-foreground: 160 15% 10%;
  --muted: 160 25% 18%;
  --muted-foreground: 150 15% 60%;
  --accent: 90 95% 60%;
  --accent-foreground: 160 20% 12%;
  --destructive: 0 85% 60%;
  --destructive-foreground: 160 20% 12%;

  --border: 160 25% 20%;
  --input: 160 25% 18%;
  --ring: 145 90% 55%;

  --chart-1: 145 90% 55%;
  --chart-2: 90 85% 60%;
  --chart-3: 180 80% 50%;
  --chart-4: 50 90% 60%;
  --chart-5: 0 85% 60%;

  --sidebar-background: 160 30% 12%;
  --sidebar-foreground: 150 15% 95%;
  --sidebar-primary: 145 90% 55%;
  --sidebar-primary-foreground: 160 15% 10%;
  --sidebar-accent: 160 25% 20%;
  --sidebar-accent-foreground: 145 90% 55%;
  --sidebar-border: 160 25% 20%;
  --sidebar-ring: 145 90% 55%;
}

/* =========================
   Global & Tailwind Base
========================= */
@layer base {
  * {
    border-color: hsl(var(--border));
  }
  body {
    @apply font-sans antialiased;
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
  }
}

/* =========================
   Leaflet Map Container
========================= */
.leaflet-container {
  height: 100%;
  width: 100%;
  border-radius: var(--radius);
}

/* =========================
   Drone Animation
========================= */
.drone-icon {
  background: transparent !important;
  border: none !important;
}
.drone-marker {
  position: relative;
  width: 30px;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.drone-body {
  width: 20px;
  height: 12px;
  background: var(--primary);
  border-radius: 4px;
  position: relative;
  z-index: 2;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.6), 0 0 8px var(--primary);
}
.drone-propeller {
  position: absolute;
  width: 8px;
  height: 8px;
  background: var(--accent);
  border-radius: 50%;
  animation: spin 0.1s linear infinite;
}
.drone-propeller-1 { top: 2px; left: 2px; }
.drone-propeller-2 { top: 2px; right: 2px; }
.drone-propeller-3 { bottom: 2px; left: 2px; }
.drone-propeller-4 { bottom: 2px; right: 2px; }

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* =========================
   Scan Circle Effect
========================= */
.scan-circle {
  width: 50px;
  height: 50px;
  border: 2px solid var(--primary);
  border-radius: 50%;
  animation: scanPulse 1s ease-out infinite;
  box-shadow: 0 0 10px var(--primary);
}

@keyframes scanPulse {
  0%   { transform: scale(0.8); opacity: 0.9; }
  50%  { transform: scale(1.3); opacity: 0.4; }
  100% { transform: scale(1.6); opacity: 0; }
}
